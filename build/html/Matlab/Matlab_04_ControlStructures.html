<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matlab Tutorial #4: Control Structures &mdash; Andy&#39;s Brain Book 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ITK-Snap_Overview" href="../ITK-Snap/ITK-Snap_Overview.html" />
    <link rel="prev" title="Matlab Tutorial #3: Paths and Functions" href="Matlab_03_FunctionsPaths.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Andy's Brain Book
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/fsl_mac_install.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Unix for Neuroimagers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_Intro.html">What is Unix?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_01_Navigation.html">Unix Tutorial #1: 目录操作 (Directories and Navigation)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_02_CopyRemove.html">Unix Tutorial #2: Copying and Removing Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_03_ReadingTextFiles.html">Unix Tutorial #3: Reading Text Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_04_ShellsVariables.html">Unix Tutorial #4: Shells and Path Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_05_ForLoops.html">Unix Tutorial #5: For-Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_06_IfElse.html">Unix Tutorial #6: Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_07_Scripting.html">Unix Tutorial #7: Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_08_Sed.html">Unix Tutorial #8: The Sed Command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/Unix_09_AutomatingTheAnalysis.html">Unix Tutorial #9: Automating The Analysis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">fMRI Short Course with FSL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_Intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_01_DataDownload.html">fMRI Tutorial #1: Downloading the Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_02_ExperimentalDesign.html">fMRI Tutorial #2: Overview of The Flanker Task</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_03_LookingAtTheData.html">fMRI Tutorial #3: Looking at the Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_04_Preprocessing.html">fMRI Tutorial #4: Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_05_1stLevelAnalysis.html">fMRI Tutorial #5: Statistics and Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_06_Scripting.html">fMRI Tutorial #6: Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_07_2ndLevelAnalysis.html">fMRI Tutorial #7: 2nd-Level Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_08_3rdLevelAnalysis.html">fMRI Tutorial #8: 3rd-Level Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_09_ROIAnalysis.html">fMRI Tutorial #9: ROI Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_10_Summary.html">fMRI Tutorial #10: Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fMRI_Short_Course/fMRI_Appendices.html">fMRI Short Course: Appendices</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FreeSurfer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../FreeSurfer/FreeSurfer_Introduction.html">FreeSurfer Short Course</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">E-Prime</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../E-Prime/E-Prime_Overview.html">Overview of E-Prime</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AFNI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../AFNI/AFNI_Overview.html">AFNI Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SPM</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../SPM/SPM_Overview.html">SPM Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Functional Connectivity with the CONN Toolbox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../FunctionalConnectivity/CONN_Overview.html">Functional Connectivity and the CONN Toolbox</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Parametric Modulation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PM/PM_Overview.html">Parametric Modulation in SPM, FSL, and AFNI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Image Visualization with MRIcroGL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../MRIcroGL/MRIcroGL_Overview.html">Image Visualization with MRIcroGL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction to the Human Connectome Project (HCP)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../HCP/HCP_Overview.html">Introduction to the Human Connectome Project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Finite Impulse Response (FIR) Models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../FIR/FIR_Overview.html">Finite Impulse Response (FIR)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">fMRI Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Practicals/DesignOptimization.html">Design Optimization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Diffusion Analysis with MRtrix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../MRtrix/MRtrix_Introduction.html">Introduction to MRtrix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ASL Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ASL/ASL_Techniques.html">fASL Tutorial #1: Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ASL/fASL_02_Download.html">fASL Tutorial #2: Downloading and Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ASL/fASL_03_Task.html">fASL Tutorial #3: The N-Back Task</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ASL/04_fASL_GUI.html">fASL Tutorial #4: The GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ASL/05_fASL_Results.html">fASL Tutorial #5: Examining the Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ASL/06_fASL_Quantification.html">fASL Tutorial #6: Quantification</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Frequently Asked Questions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../FrequentlyAskedQuestions/FrequentlyAskedQuestions.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Statistics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Statistics/GIMME.html">GIMME (Group Iterative Multiple Model Estimation)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Open Science</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../OpenScience/OS_Overview.html">Open Science</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Normalization Tools (ANTs)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ANTs/ANTs_Overview.html">Advanced Normalization Tools (ANTs)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tract-Based Spatial Statistics (TBSS)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../TBSS/TBSS_Overview.html">Introduction to Tract-Based Spatial Statistics (TBSS)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Statistics for Neuroimagers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Stats/Stats_Overview.html">Statistics for Neuroimagers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Machine Learning for Neuroimagers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ML/ML_Overview.html">Machine Learning for Neuroimagers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Slicer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Slicer/Slicer_Overview.html">Slicer Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CAT12</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CAT12/CAT12_Overview.html">Voxel-Based Morphometry with CAT12</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using the Supercomputer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Supercomputer/Supercomputer_Overview.html">Introduction to Supercomputing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Matlab for Neuroimagers</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Matlab_Overview.html">Matlab for Neuroimagers</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="Matlab_Overview.html#what-is-matlab">What is Matlab?</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Matlab_01_Navigation.html">Matlab Tutorial #1: Navigation &amp; Matrices</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matlab_02_VariablesStructures.html">Matlab Tutorial #2: Variables and Structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="Matlab_03_FunctionsPaths.html">Matlab Tutorial #3: Paths and Functions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Matlab Tutorial #4: Control Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#for-loops">For-Loops</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conditional-statements">Conditional Statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exercises">Exercises</a></li>
<li class="toctree-l4"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ITK-Snap</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ITK-Snap/ITK-Snap_Overview.html">ITK-Snap_Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python for Neuroimagers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PythonForNeuroimagers/PythonForNeuroimagers_Overview.html">Python for Neuroimagers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Meta-Analysis for fMRI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../MetaAnalysis/MetaAnalysis_Overview.html">Meta-Analysis for Neuroimagers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Andy's Brain Book</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Matlab_Overview.html">Matlab for Neuroimagers</a></li>
      <li class="breadcrumb-item active">Matlab Tutorial #4: Control Structures</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Matlab/Matlab_04_ControlStructures.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="matlab-tutorial-4-control-structures">
<span id="matlab-04-controlstructures"></span><h1>Matlab Tutorial #4: Control Structures<a class="headerlink" href="#matlab-tutorial-4-control-structures" title="Link to this heading"></a></h1>
<hr class="docutils" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Topics covered: variables, for loops, if/else statements</p>
<p>Commands covered: for, if/else, disp</p>
</div>
<section id="for-loops">
<h2>For-Loops<a class="headerlink" href="#for-loops" title="Link to this heading"></a></h2>
<p>Neuroimaging analysis often involves running many commands, but with only a small alteration each time you run a new command. For example, you might have to analyze subject 1, then subject 2, subject 3, and so on. To save time, we will use something called a Loop - also known as a <strong>for-loop</strong>.</p>
<p>For-loops are examples of <strong>control structures</strong>: ways to specify the flow of control in a program. Let’s illustrate what this is with a simple example: Imagine that you need to print the numbers 1, 2, and 3. In Matlab you could do this by typing <code class="docutils literal notranslate"><span class="pre">disp(1)</span></code> and hitting return; then <code class="docutils literal notranslate"><span class="pre">disp(2)</span></code>, and <code class="docutils literal notranslate"><span class="pre">disp(3)</span></code>. This gets the job done, but you can see that this would quickly become tedious if your goal was to print dozens or hundreds of numbers.</p>
<p>How can we make this easier? You probably noticed that each time we ran the command we changed the number after the echo command. A for-loop will automatically do this for you.</p>
<p>Here is an example of a for-loop to print the numbers 1, 2, and 3:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">disp</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">end</span>
</pre></div>
</div>
<p>Or, doing it in one line, with each section separated by semicolons:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">];</span> <span class="n">disp</span><span class="p">(</span><span class="n">i</span><span class="p">);</span> <span class="n">end</span>
</pre></div>
</div>
<p>The for-loop has three sections, separated by semicolons. The first section is the <strong>Declaration</strong>: it begins by assigning the first item after the equals sign to the variable “i”; in this case, it would assign the value “1” to “i”. The numbers after “in” are called the <strong>List</strong>. The next section is the <strong>Body</strong>, which runs the commands written after the declaration, replacing the variable with whichever value is currently assigned to the variable - for the first loop, this will be the number “1”. Since items remain in the list, the loop goes back to the declaration and assigns the next number in the list to the variable i; in this case, the number “2”. Then the body is run, and the process repeats until the end of the list is reached. The last section, called the End, contains only the word “done”, meaning to exit the loop after all of the items in the list have been run through the Body of the loop.</p>
<p>You can add more commands to the Body section, if they are separated with a semicolon. For example, we could change the loop to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">disp</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">i</span><span class="o">*</span><span class="n">i</span>
<span class="n">end</span>
</pre></div>
</div>
<p>And the output would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">4</span>
<span class="mi">3</span>
<span class="mi">9</span>
</pre></div>
</div>
<p>Looking ahead, eventually we’ll use for-loops to analyze twenty-six subjects, with directories named sub-01, sub-02, all the way to sub-26. We will use the loop to navigate into each directory and then run a script, but for now, imagine that we simply wanted to print the name of each directory. Something like this would work, but would also be tedious to write out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>for i = [sub-01 sub-02 … sub-26]
</pre></div>
</div>
<p>This also quickly becomes impractical with large numbers. You can make this command more concise by using the seq command, which prints every number in a range that you specify; for example, we can use a colon to specify the beginning and ending numbers, which will print those numbers and all the numbers in-between:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">26</span><span class="p">];</span> <span class="n">disp</span><span class="p">([</span><span class="s1">&#39;sub-&#39;</span> <span class="n">num2str</span><span class="p">(</span><span class="n">i</span><span class="p">)]);</span> <span class="n">end</span>
</pre></div>
</div>
<p>In this case, the first run of the loop would assign 1 to i, print sub-1, and then go through the rest of the items in the list.</p>
<p>This gets us closer to our goal, but it still isn’t exactly what we want. Notice that the subject names each have two integers, such as 01, 02, 03, and so on, which ensures that each subject’s name is the same length; it also keeps them in order when they are listed with the ls command. This is called <strong>zero padding</strong>, The text <code class="docutils literal notranslate"><span class="pre">'%02d'</span></code> is <strong>string-formatting code</strong> indicating that the current value being converted from a number to a string should be <strong>zero-padded</strong> with as many zeros as needed until the number is two characters long. (Details about string formatting can be found <a class="reference external" href="https://www.mathworks.com/help/matlab/matlab_prog/formatting-strings.html">here</a>.). We can implement it in our for-loop, which looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">26</span><span class="p">];</span> <span class="n">disp</span><span class="p">([</span><span class="s1">&#39;sub-&#39;</span> <span class="n">num2str</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%02d</span><span class="s1">&#39;</span><span class="p">)]);</span> <span class="n">end</span>
</pre></div>
</div>
<p>This sets each number in this range to have a width of two integers; if it’s a number less than ten, for example, it is zero-padded with one zero to the left of the number. This will be important later on when we use these loops to automate analyses over all of our subjects.</p>
</section>
<section id="conditional-statements">
<h2>Conditional Statements<a class="headerlink" href="#conditional-statements" title="Link to this heading"></a></h2>
<p>Another important control structure is the <strong>conditional statement</strong>, also known as an <strong>if/else statement</strong>. The code within a statement is run only if a certain condition is satisfied. For example, you might decide that you will go out to eat if you have $20 or more in your pocket; else, you will eat at home. If on the other hand you have very little money, you will feel motivated to make more. We can represent this as a conditional statement in Matlab by typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">money</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="k">if</span> <span class="n">money</span> <span class="o">&gt;=</span> <span class="mi">20</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at restaurant&#39;</span><span class="p">)</span>
<span class="n">elseif</span> <span class="n">money</span> <span class="o">&lt;</span> <span class="mi">5</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Make more money&#39;</span><span class="p">)</span>
<span class="k">else</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at home&#39;</span><span class="p">)</span>
<span class="n">end</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you type the above code line by line, it will terminate after the first line of code in the conditional statement is entered. You can copy and paste the above code, or you can type it all in one line, using semicolons to separate each line of code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">money</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="k">if</span> <span class="n">money</span> <span class="o">&gt;=</span> <span class="mi">20</span> <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at restaurant&#39;</span><span class="p">);</span> <span class="n">elseif</span> <span class="n">money</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Make more money&#39;</span><span class="p">);</span> <span class="k">else</span> <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at home&#39;</span><span class="p">);</span> <span class="n">end</span>
</pre></div>
</div>
<p>Or, you could type the code into a new script and run it from there.</p>
</div>
<p>The structure of the conditional statement is straightforward: We first declare a variable if we don’t have one already, since the conditional statement will need one, and then we begin the conditional with the word <code class="docutils literal notranslate"><span class="pre">if</span></code>. A <strong>comparison operator</strong> is used to compare the value of the variable to some value set by the user; and if the condition is true, the code below it is executed. If the condition is false, there is another statement begun with the word <code class="docutils literal notranslate"><span class="pre">elseif</span></code>, and that condition is checked. If neither of the first two conditions are true, then the code after the word <code class="docutils literal notranslate"><span class="pre">else</span></code> is run. Lastly, the keyword <code class="docutils literal notranslate"><span class="pre">end</span></code> is used to close the statement.</p>
<p>If we change the value of the variable money to be 10 (i.e., <code class="docutils literal notranslate"><span class="pre">money</span> <span class="pre">=</span> <span class="pre">10</span></code>) and run the conditional statement again, notice that you now get a different result, since the second conditional statement was triggered.</p>
<p>We can make our conditional statements more sophisticated by adding other operators as well. Let’s say that if you have less than five dollars, but you have a rich friend, you will eat at a nice restaurant. We can symbolize this with two ampersands (<code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>), which will only execute the code if both conditions are true on either side of the ampersand:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">money</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">richFriend</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">if</span> <span class="n">money</span> <span class="o">&gt;=</span> <span class="mi">20</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at restaurant&#39;</span><span class="p">)</span>
<span class="n">elseif</span> <span class="n">money</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="n">richFriend</span> <span class="o">==</span> <span class="mi">1</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at fancy restaurant&#39;</span><span class="p">)</span>
<span class="k">else</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Eat at home&#39;</span><span class="p">)</span>
<span class="n">end</span>
</pre></div>
</div>
<p>In this case we define a new variable, <code class="docutils literal notranslate"><span class="pre">richFriend</span></code>, as having a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> - in other words, that the rich friend exists. We expand the second conditional statement by adding <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span> <span class="pre">richFriend</span> <span class="pre">==</span> <span class="pre">1</span></code>, which uses two equals signs to test whether the value contained in the variable <code class="docutils literal notranslate"><span class="pre">richFriend</span></code> is equal to <code class="docutils literal notranslate"><span class="pre">1</span></code>. If both the statements <code class="docutils literal notranslate"><span class="pre">money</span> <span class="pre">&lt;</span> <span class="pre">5</span></code> and <code class="docutils literal notranslate"><span class="pre">richFriend</span> <span class="pre">==</span> <span class="pre">1</span></code> are true, then the code below that condition is executed.</p>
<p>Conditional statements can also be used to check whether something is true or false. In Matlab terms, a binary variable that can be either true or false is called a <strong>boolean</strong>. For example, we may want to check whether a file has been unzipped (i.e., decompressed) or not, and if it hasn’t, we want to unzip it. Click <a class="reference external" href="https://github.com/andrewjahn/PSYCH808">here</a>, and then click on the file <code class="docutils literal notranslate"><span class="pre">anat.nii.gz</span></code>. Click on the <code class="docutils literal notranslate"><span class="pre">Download</span></code> button to download it to your computer. Then, type the following code in a Matlab terminal to move it to your current directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">movefile</span><span class="p">(</span><span class="s1">&#39;~/Downloads/anat.nii.gz&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we will want to check whether it has been unzipped by using the <code class="docutils literal notranslate"><span class="pre">isfile</span></code> command; that is, checking whether a certain file exists or not. If it does exist, the <code class="docutils literal notranslate"><span class="pre">isfile</span></code> command will return a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>; else, it will return a value of <code class="docutils literal notranslate"><span class="pre">0</span></code>. In this example if we wanted to check whether the unzipped file existed, and if not, to unzip it, we could type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">isfile</span><span class="p">(</span><span class="s1">&#39;anat.nii&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Anatomical image has not been unzipped; unzipping now&#39;</span><span class="p">)</span>
  <span class="n">gunzip</span><span class="p">(</span><span class="s1">&#39;anat.nii.gz&#39;</span><span class="p">)</span>
<span class="n">elseif</span> <span class="n">isfile</span><span class="p">(</span><span class="s1">&#39;anat.nii&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
  <span class="n">disp</span><span class="p">(</span><span class="s1">&#39;Anatomical image is already unzipped; doing nothing&#39;</span><span class="p">)</span>
<span class="n">end</span>
</pre></div>
</div>
<p>Later on in the SPM tutorials, we will be using conditional statements later on to create a script that automatically analyzes our subjects.</p>
</section>
<hr class="docutils" />
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading"></a></h2>
<p>Today we covered the basics of for loops; later on, you’ll learn how to use them in more sophisticated contexts, such as automating the analysis of an entire dataset. But no matter how complicated the analysis, every for-loop is built on the fundamentals you learned today. Try these exercises to develop your understanding:</p>
<ol class="arabic simple">
<li><p>Type the following line of code: <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">[1:3:10];</span> <span class="pre">disp(['sub-'</span> <span class="pre">i]);</span> <span class="pre">end</span></code>. Before you press Enter, think about what it will return. See if the output matches your prediction. What needs to be added to the code in order to display the appropriate subject numbers (e.g., sub-01, sub-04, etc.)? Show the code you used, and the output.</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>To begin this exercise, first type <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~</span></code> from the terminal to make sure you are in your home directory. Then, write a for-loop to do the following for the numbers 1 through 3: Print the first number in the list, and then print the present working directory. (Printing the working directory can be done with the code <code class="docutils literal notranslate"><span class="pre">disp(pwd)</span></code>.) Then, go up one directory, print the present working directory, and go back into the home directory. Make sure this happens for each number in the list. Show the code and the output.</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>We can use conditional statements to determine whether a certain preprocessing step should be run. For example, we might decide to use slice-timing correction if the repetition time for a volume is 2 seconds or greater (slice-timing correction, and preprocessing more generally, will be discussed in more depth in the SPM module). From the previous chapter, make sure you have loaded the SPM file by typing <code class="docutils literal notranslate"><span class="pre">load</span> <span class="pre">SPM_SingleSubj.mat</span></code>. The repetition time can be found in the field <code class="docutils literal notranslate"><span class="pre">SPM.xY.RT</span></code>. Create a conditional statement that will display the text <code class="docutils literal notranslate"><span class="pre">Perform</span> <span class="pre">slice-timing</span> <span class="pre">correction</span></code> if the repetition time is 2 seconds or greater, and display the text <code class="docutils literal notranslate"><span class="pre">Do</span> <span class="pre">not</span> <span class="pre">perform</span> <span class="pre">slice-timing</span> <span class="pre">correction</span></code> if the repetition time is less than 2 seconds. Show the code you used.</p></li>
</ol>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading"></a></h2>
<p>Now that you’ve completed a short tutorial on the fundamentals of Matlab, you are ready to begin applying these concepts to SPM. I recommend going through the SPM12 tutorial on this website, and in particular reading the chapter on <a class="reference internal" href="../SPM/SPM_Short_Course/SPM_06_Scripting.html#spm-06-scripting"><span class="std std-ref">scripting in Matlab</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Matlab_03_FunctionsPaths.html" class="btn btn-neutral float-left" title="Matlab Tutorial #3: Paths and Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../ITK-Snap/ITK-Snap_Overview.html" class="btn btn-neutral float-right" title="ITK-Snap_Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Andy Jahn.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>